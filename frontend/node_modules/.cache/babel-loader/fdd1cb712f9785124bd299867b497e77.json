{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, vModelCheckbox as _vModelCheckbox, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-title\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"Login\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-sm-4 offset-sm-4\"\n};\nconst _hoisted_4 = {\n  class: \"card\"\n};\nconst _hoisted_5 = {\n  class: \"card-body\"\n};\nconst _hoisted_6 = {\n  class: \"form-group mb-4\"\n};\nconst _hoisted_7 = {\n  class: \"input-group\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"far fa-envelope\"\n})])], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [\"readonly\"];\nconst _hoisted_10 = {\n  class: \"form-text text-danger\"\n};\nconst _hoisted_11 = {\n  class: \"form-group mb-4\"\n};\nconst _hoisted_12 = {\n  class: \"input-group\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"input-group-text\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-lock-open\"\n})])], -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = [\"readonly\"];\nconst _hoisted_15 = {\n  class: \"form-text text-danger\"\n};\nconst _hoisted_16 = {\n  class: \"form-check\"\n};\nconst _hoisted_17 = [\"disabled\"];\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"remember\"\n}, \"Remember me\", -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = {\n  class: \"form-group text-center mt-3\"\n};\nconst _hoisted_20 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    class: \"my-3\",\n    onSubmit: _cache[3] || (_cache[3] = $event => $options.login($event))\n  }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.user.email = $event),\n    type: \"email\",\n    class: \"form-control\",\n    placeholder: \"Email address\",\n    readonly: _ctx.loading\n  }, null, 8\n  /* PROPS */\n  , _hoisted_9), [[_vModelText, _ctx.user.email]])]), _createElementVNode(\"small\", _hoisted_10, _toDisplayString(_ctx.errors.email), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.user.password = $event),\n    type: \"password\",\n    class: \"form-control\",\n    placeholder: \"Password\",\n    readonly: _ctx.loading\n  }, null, 8\n  /* PROPS */\n  , _hoisted_14), [[_vModelText, _ctx.user.password]])]), _createElementVNode(\"small\", _hoisted_15, _toDisplayString(_ctx.errors.password), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.user.remember = $event),\n    type: \"checkbox\",\n    class: \"form-check-input\",\n    id: \"remember\",\n    value: \"true\",\n    disabled: _ctx.loading\n  }, null, 8\n  /* PROPS */\n  , _hoisted_17), [[_vModelCheckbox, _ctx.user.remember]]), _hoisted_18]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-success\",\n    disabled: !$options.isFormValid || _ctx.loading\n  }, _toDisplayString(_ctx.loading ? 'Logging..' : 'Login'), 9\n  /* TEXT, PROPS */\n  , _hoisted_20)])], 32\n  /* HYDRATE_EVENTS */\n  )])])])])]);\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","for","_createElementBlock","_hoisted_1","onSubmit","$options","$event","_hoisted_8","_ctx","email","type","placeholder","readonly","_toDisplayString","_hoisted_13","password","remember","id","value","disabled","_hoisted_18","_hoisted_20"],"sourceRoot":"","sources":["C:\\Users\\RajibDas\\Desktop\\laravel+vue\\frontend\\src\\components\\auth\\Register.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"page-title\">\n      <span>Login</span>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-4 offset-sm-4\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <form class=\"my-3\" @submit=\"login($event)\">\n\n                        <div class=\"form-group mb-4\">\n                            <div class=\"input-group\">\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text\"><i class=\"far fa-envelope\"></i></span>\n                                </div>\n                                <input v-model=\"user.email\" type=\"email\" class=\"form-control\" placeholder=\"Email address\" :readonly=\"loading\">                            \n                            </div>\n                            <small class=\"form-text text-danger\">{{ errors.email }}</small>\n                        </div>\n\n                        <div class=\"form-group mb-4\">\n                            <div class=\"input-group\">\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text\"><i class=\"fas fa-lock-open\"></i></span>\n                                </div>\n                                <input v-model=\"user.password\" type=\"password\" class=\"form-control\" placeholder=\"Password\" :readonly=\"loading\">                                \n                            </div>\n                            <small class=\"form-text text-danger\">{{ errors.password }}</small>\n                       </div>\n\n                        <div class=\"form-check\">\n                            <input v-model=\"user.remember\" type=\"checkbox\" class=\"form-check-input\" id=\"remember\" value=\"true\" :disabled=\"loading\">\n                            <label class=\"form-check-label\" for=\"remember\">Remember me</label>\n                        </div>\n\n                        <div class=\"form-group text-center mt-3\">\n                            <button type=\"submit\" class=\"btn btn-success\" :disabled=\"!isFormValid || loading\">{{ loading ? 'Logging..' : 'Login' }}</button>\n                        </div>  \n\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>   \n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'auth-login',\n  data: function(){\n    return {\n        loading : false,\n        user : {\n            email : '',\n            password : '',\n            remember : false\n        },\n        errors : {\n            email : '',\n            password : ''\n        }\n    }\n  },\n  watch:{\n        'user.email': function(newEmail){\n            let email_regex = /\\S+@\\S+\\.\\S+/;\n            if(newEmail == '')\n                this.errors.email = 'Email address is required';\n            else if(email_regex.test(newEmail) == false)\n                this.errors.email = 'Email address is not valid'; \n            else\n                this.errors.email = '';             \n        },\n        'user.password': function(newPassword){\n            if(newPassword == '')\n                this.errors.password = 'Password is required';\n            else if(newPassword.length < 6)\n                this.errors.password = 'Password should be at least 6 characters'; \n            else\n                this.errors.password = '';             \n        },\n  },\n  computed:{\n        isFormValid: function(){\n            let valid = true;\n            const self = this;\n            for (const [key, value] of Object.entries(self.errors)) {\n                if(self.user[key] == '' || value != ''){\n                    valid = false;\n                    break;\n                }\n            }            \n            return valid;\n        }\n  },\n  methods: {\n    login: function(e){\n        e.preventDefault();\n        const self = this;\n        if(self.isFormValid == false)\n            return false;\n\n        self.loading = true;\n        self.axios.post(self.$api_url + 'login', self.user, {\n                withCredentials: true,\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                },\n            })\n            .then(res => {\n                this.$store.commit('setAuth', res.data);\n                this.$router.push('/');\n            })\n            .catch(err => {\n                console.log(err);\n            })\n            .finally(() => {\n                self.loading = false;\n            });\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}