{"ast":null,"code":"export default {\n  watch: {\n    $route: {\n      immediate: true,\n\n      handler(to, from) {\n        document.title = to.meta.title || to.name;\n      }\n\n    }\n  },\n  computed: {\n    isAdmin: function () {\n      const auth = this.$store.state.auth;\n      if (auth && auth.user.role === 'admin') return true;\n      return false;\n    },\n    isLogged: function () {\n      const auth = this.$store.state.auth;\n      if (auth) return true;\n      return false;\n    },\n    isNotLogged: function () {\n      const auth = this.$store.state.auth;\n      if (auth === '') return true;\n      return false;\n    }\n  },\n  methods: {},\n  created: function () {\n    const self = this;\n    self.axios.defaults.headers.common = {\n      \"Accept\": \"application/json\",\n      'Content-Type': 'application/json'\n    };\n    self.axios.interceptors.response.use(undefined, function (err) {\n      //return new Promise(function (resolve, reject) {\n      return new Promise(function () {\n        if (err.response.status === 401) {\n          self.$store.commit('clearAuth');\n          self.$router.push('/login');\n        }\n\n        throw err;\n      });\n    });\n  }\n};","map":{"version":3,"mappings":"AAgEA,eAAe;EACbA,KAAK,EAAE;IACDC,MAAM,EAAE;MACJC,SAAS,EAAE,IADP;;MAEJC,OAAO,CAACC,EAAD,EAAKC,IAAL,EAAW;QACdC,QAAQ,CAACC,KAAT,GAAiBH,EAAE,CAACI,IAAH,CAAQD,KAAR,IAAiBH,EAAE,CAACK,IAArC;MACJ;;IAJI;EADP,CADM;EASbC,QAAQ,EAAE;IACRC,OAAO,EAAE,YAAU;MACjB,MAAMC,IAAG,GAAI,KAAKC,MAAL,CAAYC,KAAZ,CAAkBF,IAA/B;MACA,IAAGA,IAAG,IAAKA,IAAI,CAACG,IAAL,CAAUC,IAAV,KAAmB,OAA9B,EACI,OAAO,IAAP;MACJ,OAAO,KAAP;IACD,CANO;IAORC,QAAQ,EAAE,YAAU;MAClB,MAAML,IAAG,GAAI,KAAKC,MAAL,CAAYC,KAAZ,CAAkBF,IAA/B;MACA,IAAGA,IAAH,EACI,OAAO,IAAP;MACJ,OAAO,KAAP;IACD,CAZO;IAaRM,WAAW,EAAE,YAAU;MACrB,MAAMN,IAAG,GAAI,KAAKC,MAAL,CAAYC,KAAZ,CAAkBF,IAA/B;MACA,IAAGA,IAAG,KAAM,EAAZ,EACI,OAAO,IAAP;MACJ,OAAO,KAAP;IACF;EAlBQ,CATG;EA6BbO,OAAO,EAAE,EA7BI;EAgCbC,OAAO,EAAE,YAAY;IACnB,MAAMC,IAAG,GAAI,IAAb;IACAA,IAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBC,OAApB,CAA4BC,MAA5B,GAAqC;MACnC,UAAU,kBADyB;MAEnC,gBAAgB;IAFmB,CAArC;IAIAJ,IAAI,CAACC,KAAL,CAAWI,YAAX,CAAwBC,QAAxB,CAAiCC,GAAjC,CAAqCC,SAArC,EAAgD,UAAUC,GAAV,EAAe;MAC7D;MACA,OAAO,IAAIC,OAAJ,CAAY,YAAY;QAC7B,IAAID,GAAG,CAACH,QAAJ,CAAaK,MAAb,KAAwB,GAA5B,EAAiC;UAC/BX,IAAI,CAACR,MAAL,CAAYoB,MAAZ,CAAmB,WAAnB;UACAZ,IAAI,CAACa,OAAL,CAAaC,IAAb,CAAkB,QAAlB;QACF;;QACA,MAAML,GAAN;MACD,CANM,CAAP;IAOD,CATD;EAUF;AAhDa,CAAf","names":["watch","$route","immediate","handler","to","from","document","title","meta","name","computed","isAdmin","auth","$store","state","user","role","isLogged","isNotLogged","methods","created","self","axios","defaults","headers","common","interceptors","response","use","undefined","err","Promise","status","commit","$router","push"],"sourceRoot":"","sources":["C:\\Users\\RajibDas\\Desktop\\laravel+vue\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-success\">\n      <div class=\"container\">\n        <a class=\"navbar-brand\" href=\"#\">Vue Laravel</a>\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarsExampleDefault\" aria-controls=\"navbarsExampleDefault\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\n          <ul class=\"navbar-nav ml-auto\">       \n            \n            <!--Admin Routes-->\n            <li class=\"nav-item\" v-if=\"isAdmin\">\n                <router-link class=\"nav-link\" to=\"/admin/\">Home</router-link>\n            </li>\n             <li class=\"nav-item\" v-if=\"isAdmin\">\n                <router-link class=\"nav-link\" to=\"/admin/users\">Users</router-link>\n            </li>\n            <li class=\"nav-item\" v-if=\"isAdmin\">\n                <router-link class=\"nav-link\" to=\"/admin/posts\">Posts</router-link>\n            </li>\n            <!--End Admin Routes-->\n\n\n\n            <li class=\"nav-item\" v-if=\"isNotLogged\">\n                <router-link class=\"nav-link\" to=\"/\" >Home</router-link>\n            </li>\n            <li class=\"nav-item\" v-if=\"isNotLogged\">\n                <router-link class=\"nav-link\" to=\"/login\">Login</router-link>\n            </li>\n\n            <li class=\"nav-item\" v-if=\"isLogged\">\n              <router-link class=\"nav-link\" to=\"/\" >Home</router-link>\n            </li>\n            <li class=\"nav-item\" v-if=\"isLogged\">\n                <router-link class=\"nav-link text-white\" to=\"/logout\">Logout</router-link>\n            </li>\n            <li class=\"nav-item\" v-if=\"isLogged\">\n              <router-link class=\"nav-link\" to=\"/departments\">Departments</router-link>\n            </li>\n\n\n          </ul>\n        </div>\n      </div>\n    </nav>\n\n    <div class=\"container\">\n\n      <div v-if=\"$store.state.loading\" class=\"loading\">\n        <div class=\"bg-blur\"></div>\n        <div class=\"loader\"></div>\n      </div>\n\n      <div class=\"pt-4\">\n        <router-view></router-view>\n      </div>\n    </div>    \n  </div>\n</template>\n\n<script>\nexport default {\n  watch: {\n        $route: {\n            immediate: true,\n            handler(to, from) {\n                document.title = to.meta.title || to.name;\n            }\n        },\n    },\n  computed: {\n    isAdmin: function(){\n      const auth = this.$store.state.auth;\n      if(auth && auth.user.role === 'admin')\n          return true;\n      return false;    \n    },\n    isLogged: function(){\n      const auth = this.$store.state.auth;\n      if(auth)\n          return true;\n      return false;  \n    },\n    isNotLogged: function(){\n      const auth = this.$store.state.auth;\n      if(auth === '')\n          return true;\n      return false;  \n    }\n  },\n  methods: {\n\n  },\n  created: function () {\n    const self = this;\n    self.axios.defaults.headers.common = {\n      \"Accept\": \"application/json\",\n      'Content-Type': 'application/json',\n    };\n    self.axios.interceptors.response.use(undefined, function (err) {\n      //return new Promise(function (resolve, reject) {\n      return new Promise(function () {\n        if (err.response.status === 401) {\n          self.$store.commit('clearAuth');\n          self.$router.push('/login');\n        }\n        throw err;\n      });\n    });\n  }\n}\n\n</script>"]},"metadata":{},"sourceType":"module"}